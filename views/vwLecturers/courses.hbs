<div class="col-sm-10 border-0">
    <h5 class="card-header">All your courses</h5>

    <div class="card mb-3">
        <form method="POST" id="formDeleteCourse">
            <input id="txtCourseID" type="hidden" name="id" value="">
        </form>
        {{#each courses}}
        <div class="row g-0 m-2 shadowBox ">
            <div class="col-md-4" style="position: relative">
                <img class="center card-img-top" src="../../public/images/{{CourseID}}.jpg" alt="{{CourseName}}"
                    onerror='this.onerror = null; this.src="../../public/images/{{CourseID}}.jpeg"'>
            </div>
            <div class="col-md-6">
                <div class="card-body">
                    <h5 class="card-title">{{CourseName}}</h5>
                    <p class="card-text">{{TinyDes}}</p>
                    <p class="card-text text-danger">Students enrolled: {{totalStudents}}</p>
                    <div class="d-flex justify-content">
                        <p style="margin-right: 10px">Rating: <strong>{{rating}}</strong> </p>
                        <div class="stars-outer">
                            <div class="stars-inner" data-value="{{rating}}"></div>
                        </div>
                    </div>
                    <p class="card-text"><small class="text-muted">Last update: {{LastUpdate}}</small></p>
                </div>
            </div>
            <div class="col-md-2 d-flex flex-column justify-content-center">
                <a class="btn  btn-lg btn-block btn-raised shadow my-button w-xs " href="/lecturer/edit/{{CourseID}}"
                    role="button">
                    <i class="fas fa-edit fa-lg"></i>
                </a>
                {{!-- delete post --}}
                <a class="btn  btn-lg btn-block btn-raised shadow my-button w-xs deleteCourse" role="button"
                    data-id="{{CourseID}}">
                    <i class="fas fa-trash fa-lg"></i>
                </a>
            </div>

        </div>
        {{/each}}

    </div>
</div>

</div>
{{#section 'css'}}
<link type="text/css" rel="stylesheet" href="../../public/stylesheets/courses.css">
{{/section}}
{{#section 'js'}}
<script>
    $( '.stars-inner' ).css( "width", function ()
    {
        const rating = $( this ).data( 'value' );
        return `${ Math.round( rating * 20 ) }%`;
    } );
    $( '.deleteCourse' ).on( 'click', function ()
    {
        const CourseID = $( this ).data( 'id' );
        $( '#formDeleteCourse' ).attr( 'action', `/lecturer/delete/${ CourseID }` );
        $( '#formDeleteCourse' ).submit();
    } )
</script>
{{/section}}
